{"version":3,"sources":["instantload.js"],"names":["instantload","InstantLoad","running","preloadableElements","currentPageReq","preloadedPages","events","preload","postload","change","init","instantHistory","triggerEvent","eventType","i","length","registerEvent","callback","push","updateScripts","originalScripts","document","head","querySelectorAll","forEach","script","hasAttribute","body","instantload_tracked","cloneScript","createElement","originalScript","parent","parentNode","nextEl","nextSiblings","textContent","j","attributes","setAttribute","name","value","remove","insertBefore","clearURL","url","split","join","changePage","preloadedPage","location","href","scrollPos","x","window","scrollX","y","scrollY","abort","clearTrackedElements","documentElement","replaceChild","history","pushState","scrollTo","trackPreloadableElements","preloadPage","element","XMLHttpRequest","open","timeout","send","onload","newDocument","implementation","createHTMLDocument","innerHTML","responseText","popstateEvent","e","reload","mouseOverEvent","target","isPreloaded","mouseClickEvent","preventDefault","isNoPreload","isPreloadable","localhost","protocol","host","taget","indexOf","addEventListeners","addEventListener","removeEventListeners","removeEventListener","isSupported","isRunning","console","warn","error","on"],"mappings":"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"}