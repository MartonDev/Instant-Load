{"version":3,"sources":["instantload.js"],"names":["instantload","InstantLoad","running","preloadableElements","currentPageReq","instantloadContainer","preloadedPages","events","preload","postload","change","init","instantHistory","loadingStyle","bar","startLoading","document","createElement","classList","add","id","loadingIncrease","setInterval","style","width","appendChild","endLoading","querySelectorAll","setTimeout","opacity","remove","blink","whiteScreen","circle","spinner","invisible","config","reloadPagesOnPopstate","addCustomStyleAndElements","styleElement","innerText","head","body","triggerEvent","eventType","event","i","length","registerEvent","callback","push","updateScripts","originalScripts","forEach","script","hasAttribute","instantload_tracked","cloneScript","originalScript","parent","parentNode","nextEl","nextSiblings","textContent","j","attributes","setAttribute","name","value","insertBefore","clearURL","url","split","join","domChangeListener","MutationObserver","mutations","changedHyperlinks","addedNodes","node","tagName","toLowerCase","isPreloadable","legth","clearTrackedElements","trackPreloadableElements","changePage","preloadedPage","location","href","scrollPos","x","window","scrollX","y","scrollY","abort","disconnect","documentElement","replaceChild","history","pushState","scrollTo","observe","childList","popstateEvent","preloadPage","element","XMLHttpRequest","open","timeout","send","onload","status","success","message","statusText","newDocument","implementation","createHTMLDocument","innerHTML","responseText","ontimeout","e","fakePreloadElement","reload","mouseOverEvent","target","isPreloaded","mouseClickEvent","preventDefault","isNoPreload","localhost","protocol","host","taget","indexOf","addEventListeners","addEventListener","removeEventListeners","removeEventListener","isSupported","isRunning","getConfig","cfg","console","warn","error","option","trackedElements","on","configOptions","loadingStyles"],"mappings":"AASA,IAAIA,YAAaC,YAAcD,YAAc,WAI3C,IAAIE,EAAU,MAEdC,KAEAC,EAAiB,KAEjBC,EAAuB,KAGvB,MAAMC,KAENC,GAAUC,WAAaC,YAAcC,UAAYC,SAEjDC,KAGAC,GAEEC,KAEEC,aAAc,KAEZ,MAAMD,EAAME,SAASC,cAAc,OAEnCH,EAAII,UAAUC,IAAI,OAClBL,EAAIM,GAAK,kBAETN,EAAIO,gBAAkBC,YAAY,KAEhCR,EAAIS,MAAMC,cAAgBV,EAAIS,MAAMC,iBAEnC,KAEHnB,EAAqBoB,YAAYX,IAInCY,WAAY,KAEV,MAAMZ,EAAMT,EAAqBsB,iBAAiB,QAAQ,GAE1Db,EAAIO,gBAAkB,KACtBP,EAAIS,MAAMC,MAAQ,QAClBI,WAAW,KAETd,EAAIS,MAAMM,QAAU,IACpBD,WAAW,KAETd,EAAIgB,UAEH,MAEF,OAMPC,OAEEhB,aAAc,KAEZ,MAAMiB,EAAchB,SAASC,cAAc,OAE3Ce,EAAYd,UAAUC,IAAI,SAC1Ba,EAAYZ,GAAK,0BACjBf,EAAqBoB,YAAYO,GACjCA,EAAYT,MAAMM,QAAU,KAI9BH,WAAY,KAEV,MAAMM,EAAc3B,EAAqBsB,iBAAiB,UAAU,GAEpEC,WAAW,KAETI,EAAYT,MAAMM,QAAU,IAE5BD,WAAW,KAETI,EAAYF,UAEX,MAEF,OAMPG,QAEElB,aAAc,KAEZ,MAAMkB,EAASjB,SAASC,cAAc,OACtCiB,EAAUlB,SAASC,cAAc,OAEjCgB,EAAOf,UAAUC,IAAI,UACrBc,EAAOb,GAAK,qBACZc,EAAQhB,UAAUC,IAAI,WACtBe,EAAQd,GAAK,6BACba,EAAOR,YAAYS,GACnB7B,EAAqBoB,YAAYQ,GACjCA,EAAOV,MAAMM,QAAU,KAIzBH,WAAY,KAEV,MAAMO,EAAS5B,EAAqBsB,iBAAiB,WAAW,GAEhEC,WAAW,KAETK,EAAOV,MAAMM,QAAU,IAEvBD,WAAW,KAETK,EAAOH,UAEN,MAEF,OAMPK,WAEEpB,aAAc,OAMdW,WAAY,SAWhBU,GAAUC,sBAAuB,MAAOxB,aAAcA,EAAaC,KAGnEwB,EAA4B,KAE1B,MAAMC,EAAevB,SAASC,cAAc,SAC5CZ,EAAuBW,SAASC,cAAc,OAE9CsB,EAAaC,UAAY,2zCACzBnC,EAAqBa,UAAUC,IAAI,yBAEnCH,SAASyB,KAAKhB,YAAYc,GAC1BvB,SAAS0B,KAAKjB,YAAYpB,IAK5BsC,EAAe,CAACC,EAAWC,KAEzB,IAAI,IAAIC,EAAI,EAAGA,EAAIvC,EAAOqC,GAAWG,OAAQD,IAAK,CAEhDvC,EAAOqC,GAAWE,GAAGD,KAOzBG,EAAgB,CAACJ,EAAWK,KAE1B1C,EAAOqC,GAAWM,KAAKD,IAKzBE,EAAgB,KAEd,IAAIC,KAGJpC,SAASyB,KAAKd,iBAAiB,UAAU0B,QAASC,IAEhD,IAAIA,EAAOC,aAAa,yBACtBH,EAAgBF,KAAKI,KAGzBtC,SAAS0B,KAAKf,iBAAiB,UAAU0B,QAASC,IAEhD,IAAIA,EAAOC,aAAa,yBACtBH,EAAgBF,KAAKI,KAIzB,IAAI,IAAIR,EAAI,EAAGA,EAAIM,EAAgBL,OAAQD,IAAK,CAE9C,GAAGM,EAAgBN,GAAGU,qBAAuB,KAC3C,SAEF,IAAIC,EAAczC,SAASC,cAAc,UACzCyC,EAAiBN,EAAgBN,GACjCa,EAASD,EAAeE,WACxBC,EAASH,EAAeI,aAGxBL,EAAYM,YAAcL,EAAeK,YACzCN,EAAYD,oBAAsB,KAGlC,IAAI,IAAIQ,EAAI,EAAGA,EAAIN,EAAeO,WAAWlB,OAAQiB,IAAK,CAExDP,EAAYS,aAAaR,EAAeO,WAAWD,GAAGG,KAAMT,EAAeO,WAAWD,GAAGI,OAI3FV,EAAe5B,SACf6B,EAAOU,aAAaZ,EAAaI,KAOrCS,EAAYC,IAEV,OAAOA,EAAIC,MAAM,KAAKC,KAAK,KAM7BC,EAAoB,IAAIC,iBAAkBC,IAExC,MAAMC,KAEN,IAAI,IAAI/B,EAAI,EAAGA,EAAI8B,EAAU7B,OAAQD,IAAK,CAExC8B,EAAU9B,GAAGgC,WAAWzB,QAAS0B,IAE/B,GAAGA,EAAKC,SAAW,MAAQD,EAAKC,QAAQC,eAAiB,KAAOC,EAAcH,GAC5EF,EAAkB3B,KAAK6B,KAM7B,GAAGF,EAAkBM,OAAS,EAC5B,OAEFC,IACAC,MAMFC,EAAa,CAACC,EAAehB,KAE3B3D,EAAe0D,EAASkB,SAASC,OAAOC,WAAaC,EAAGC,OAAOC,QAASC,EAAGF,OAAOG,SAClF3F,EAAe4F,QAEfZ,IACAV,EAAkBuB,aAElBjF,SAASkF,gBAAgBC,aAAaZ,EAAc7C,KAAM1B,SAAS0B,MACnE1B,SAASkF,gBAAgBC,aAAaZ,EAAc9C,KAAMzB,SAASyB,MAEnEH,IACAF,EAAOvB,aAAaE,eAGpBoC,IAEA,GAAGoB,GAAO,KAAM,CAEd6B,QAAQC,UAAU,KAAM,KAAM9B,GAC9B+B,SAAS,EAAG,GACZ1F,EAAe0D,EAASkB,SAASC,QAE/BzE,UAAWyB,KAAMzB,SAASyB,KAAMC,KAAM1B,SAAS0B,MAC/CgD,WAAYC,EAAGC,OAAOC,QAASC,EAAGF,OAAOG,UAM7CrB,EAAkB6B,QAAQvF,SAAS0B,MAAO8D,UAAW,OACrDnB,IACA1C,EAAa,UAAWC,UAAW,SAAU6D,cAAgBlC,GAAO,OACpEnC,EAAOvB,aAAaa,cAMtBgF,EAAc,CAACnC,EAAKoC,EAAS1D,KAE3BN,EAAa,WAAYC,UAAW,YAEpCxC,EAAiB,IAAIwG,eAErBxG,EAAeyG,KAAK,MAAOtC,GAC3BnE,EAAe0G,QAAU,IACzB1G,EAAe2G,OACf3G,EAAe4G,OAAS,MAEtB,GAAG5G,EAAe6G,QAAU,IAAK,CAE/BtE,EAAa,YAAaC,UAAW,WAAYsE,QAAS,MAAOC,mBAAoB/G,EAAe6G,UAAU7G,EAAegH,eAC7H,OAKF,IAAIC,EAAcrG,SAASsG,eAAeC,mBAAmB,IAE7DF,EAAYnB,gBAAgBsB,UAAYpH,EAAeqH,aACvDd,EAAQpB,cAAgB8B,EAExB1E,EAAa,YAAaC,UAAW,WAAYsE,QAAS,KAAMC,mBAAoB/G,EAAe6G,UAAU7G,EAAegH,eAE5HnE,MAGF7C,EAAesH,UAAY,MAEzB/E,EAAa,YAAaC,UAAW,WAAYsE,QAAS,MAAOC,QAAS,eAO9EV,EAAiBkB,IAEf,GAAGvF,EAAOC,sBAAuB,CAE/B,MAAMuF,EAAqB5G,SAASC,cAAc,KAElDyF,EAAYpC,EAASkB,SAASC,MAAOmC,EAAoB,KAEvDtC,EAAWsC,EAAmBrC,qBAI5B,CAEJ,GAAG3E,EAAe0D,EAASkB,SAASC,QAAU,KAAM,CAElDD,SAASqC,aAEL,CAEJvC,EAAW1E,EAAe0D,EAASkB,SAASC,OAAOzE,UACnDsF,SAAS1F,EAAe0D,EAASkB,SAASC,OAAOC,UAAUC,EAAG/E,EAAe0D,EAASkB,SAASC,OAAOC,UAAUI,MAUtHgC,EAAkBH,IAEhB,GAAGA,EAAEI,OAAOC,YACV,OAEFtB,EAAYpC,EAASqD,EAAEI,OAAOtC,MAAOkC,EAAEI,OAAQ,KAE7CJ,EAAEI,OAAOC,YAAc,QAQ3BC,EAAmBN,IAEjBA,EAAEO,iBAEF,GAAGP,EAAEI,OAAOC,YAAa,CAEvBL,EAAEI,OAAOC,YAAc,MACvB1C,EAAWqC,EAAEI,OAAOxC,cAAeoC,EAAEI,OAAOtC,UAExC,CAGJiB,EAAYpC,EAASqD,EAAEI,OAAOtC,MAAOkC,EAAEI,OAAQ,KAE7CJ,EAAEI,OAAOC,YAAc,KACvB1C,EAAWqC,EAAEI,OAAOxC,cAAeoC,EAAEI,OAAOtC,UAUlD0C,EAAexB,IAEb,GAAGA,EAAQpD,aAAa,yBACtB,OAAO,KAET,OAAO,OAMT2B,EAAiByB,IAEf,MAAMyB,EAAY5C,SAAS6C,SAAW,KAAO7C,SAAS8C,KAAO,IAE7D,GAAG3B,EAAQ4B,OAAS5B,EAAQlB,KAAK+C,QAAQJ,IAAc,GAAKD,EAAYxB,GACtE,OAAO,MAET,OAAO,MAKT8B,EAAoB,KAElB,IAAI,IAAI3F,EAAI,EAAGA,EAAI3C,EAAoB4C,OAAQD,IAAK,CAElD3C,EAAoB2C,GAAG4F,iBAAiB,YAAaZ,GACrD3H,EAAoB2C,GAAG4F,iBAAiB,QAAST,GAInDrC,OAAO8C,iBAAiB,WAAYjC,IAKtCpB,EAA2B,KAEzBrE,SAASW,iBAAiB,KAAK0B,QAAQ,SAASsD,GAE9C,GAAGzB,EAAcyB,GAAU,CAEzBxG,EAAoB+C,KAAKyD,MAM7B8B,KAKFE,EAAuB,KAErB,IAAI,IAAI7F,EAAI,EAAGA,EAAI3C,EAAoB4C,OAAQD,IAAK,CAElD3C,EAAoB2C,GAAG8F,oBAAoB,YAAad,GACxD3H,EAAoB2C,GAAG8F,oBAAoB,QAASX,KAOxD7C,EAAuB,KAErBuD,IACAxI,MAKF0I,EAAc,KAGZ,IAAI,cAAezC,QACjB,OAAO,MAGT,GAAGZ,SAAS6C,UAAY,QACtB,OAAO,MAET,OAAO,MAKTS,EAAY,KAEV,OAAO5I,GAKT6I,EAAY,KAEV,OAAO3G,GAMTzB,EAAQqI,IAEN,GAAG9I,EAAS,CAEV+I,QAAQC,KAAK,uCACb,OAIFhJ,EAAU,KAEV,IAAI2I,IAAe,CAEjBI,QAAQE,MAAM,6DACd,OAIF,GAAGH,GAAO,KAAM,CAEd,IAAII,UAAUJ,EAAK,CAGjB5G,EAAOgH,QAAUJ,EAAII,SAMzB9G,IACA+C,IAEAzE,EAAe0D,EAASkB,SAASC,QAE/BzE,UAAWyB,KAAMzB,SAASyB,KAAMC,KAAM1B,SAAS0B,MAC/CgD,WAAYC,EAAGC,OAAOC,QAASC,EAAGF,OAAOG,UAG3CrB,EAAkB6B,QAAQvF,SAAS0B,MAAO8D,UAAW,OAErD7D,EAAa,QAASC,UAAW,OAAQyG,gBAAiBlJ,KAI5D,OAEEQ,KAAMA,EACN2I,GAAItG,EACJZ,OAAQ2G,EACRQ,eAAgBC,cAAe3I,GAC/BiI,UAAWA,EACX1C,QAASxF,GAzjBgC"}