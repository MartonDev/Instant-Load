{"version":3,"sources":["instantload.js"],"names":["instantload","InstantLoad","running","preloadableElements","currentPageReq","instantloadContainer","preloadedPages","events","preload","postload","change","init","instantHistory","loadingStyle","bar","startLoading","document","createElement","classList","add","id","loadingIncrease","setInterval","style","width","appendChild","endLoading","querySelectorAll","setTimeout","opacity","remove","blink","whiteScreen","circle","spinner","invisible","config","reloadPagesOnPopstate","addCustomStyleAndElements","styleElement","innerText","head","body","triggerEvent","eventType","i","length","registerEvent","callback","push","updateScripts","originalScripts","forEach","script","hasAttribute","instantload_tracked","cloneScript","originalScript","parent","parentNode","nextEl","nextSiblings","textContent","j","attributes","setAttribute","name","value","insertBefore","clearURL","url","split","join","domChangeListener","MutationObserver","mutations","changedHyperlinks","addedNodes","node","tagName","toLowerCase","isPreloadable","legth","clearTrackedElements","trackPreloadableElements","changePage","preloadedPage","location","href","scrollPos","x","window","scrollX","y","scrollY","abort","disconnect","documentElement","replaceChild","history","pushState","scrollTo","observe","childList","preloadPage","element","XMLHttpRequest","open","timeout","send","onload","newDocument","implementation","createHTMLDocument","innerHTML","responseText","popstateEvent","e","fakePreloadElement","reload","mouseOverEvent","target","isPreloaded","mouseClickEvent","preventDefault","isNoPreload","localhost","protocol","host","taget","indexOf","addEventListeners","addEventListener","removeEventListeners","removeEventListener","isSupported","isRunning","getConfig","cfg","console","warn","error","option","on","configOptions","loadingStyles"],"mappings":"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"}