let instantload,InstantLoad=instantload=function(){let t=false,e=[],n=null,o=null;const a=[],i={preload:[],postload:[],change:[],init:[]},l={},r={bar:{startLoading:()=>{const t=document.createElement("div");t.classList.add("bar");t.id="instantload-bar";t.loadingIncrease=setInterval(()=>{t.style.width=`calc(${t.style.width} + 20vw)`},830);o.appendChild(t)},endLoading:()=>{const t=o.querySelectorAll(".bar")[0];t.loadingIncrease=null;t.style.width="100vw";setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},170)}},blink:{startLoading:()=>{const t=document.createElement("div");t.classList.add("blink");t.id="instantload-whiteScreen";o.appendChild(t);t.style.opacity="1"},endLoading:()=>{const t=o.querySelectorAll(".blink")[0];setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},300)}},circle:{startLoading:()=>{const t=document.createElement("div"),e=document.createElement("div");t.classList.add("circle");t.id="instantload-circle";e.classList.add("spinner");e.id="instantload-circle-spinner";t.appendChild(e);o.appendChild(t);t.style.opacity="1"},endLoading:()=>{const t=o.querySelectorAll(".circle")[0];setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},450)}},invisible:{startLoading:()=>{},endLoading:()=>{}}},s={reloadPagesOnPopstate:false,loadingStyle:r.bar},d=()=>{const t=document.createElement("style");o=document.createElement("div");t.innerText=".instantload-container {position: fixed; top: 0; left: 0; width: 100vw; z-index: 1000000; overflow: hidden;} .instantload-container .bar {height: 4px; width: 0vw; background-color: #4287f5; opacity: 1; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .blink {width: 100vw; height: 100vh; background-color: #fff; opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .circle {position: relative; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, .5); opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .circle .spinner {position: absolute; top: 50%; left: 50%; width: 50px; height: 50px; border: 3px solid rgba(255, 255, 255, .3); border-radius: 50%; border-top-color: #fff; animation: spin .44s ease-in-out infinite; -webkit-animation: spin .44s ease-in-out infinite;} @keyframes spin {to{transform: rotate(360deg) translate(0, 0); -webkit-transform: rotate(360deg) translate(0, 0);}}@-webkit-keyframes spin {to{transform: rotate(360deg) translate(0, 0); -webkit-transform: rotate(360deg) translate(0, 0);}}}";o.classList.add("instantload-container");document.head.appendChild(t);document.body.appendChild(o)},c=t=>{for(let e=0;e<i[t].length;e++){i[t][e]()}},u=(t,e)=>{i[t].push(e)},h=()=>{let t=[];document.head.querySelectorAll("script").forEach(e=>{if(!e.hasAttribute("instantload-blacklist"))t.push(e)});document.body.querySelectorAll("script").forEach(e=>{if(!e.hasAttribute("instantload-blacklist"))t.push(e)});for(let e=0;e<t.length;e++){if(t[e].instantload_tracked!=true)continue;let n=document.createElement("script"),o=t[e],a=o.parentNode,i=o.nextSiblings;n.textContent=o.textContent;n.instantload_tracked=true;for(let t=0;t<o.attributes.length;t++){n.setAttribute(o.attributes[t].name,o.attributes[t].value)}o.remove();a.insertBefore(n,i)}},p=t=>{return t.split("#").join("")},f=new MutationObserver(t=>{const e=[];for(let n=0;n<t.length;n++){t[n].addedNodes.forEach(t=>{if(t.tagName!=null&&t.tagName.toLowerCase()=="a"&&L(t))e.push(t)})}if(e.legth==0)return;x();E()}),m=(t,e)=>{l[p(location.href)].scrollPos={x:window.scrollX,y:window.scrollY};n.abort();x();f.disconnect();document.documentElement.replaceChild(t.body,document.body);document.documentElement.replaceChild(t.head,document.head);d();s.loadingStyle.startLoading();h();if(e!=null){history.pushState(null,null,e);scrollTo(0,0);l[p(location.href)]={document:{head:document.head,body:document.body},scrollPos:{x:window.scrollX,y:window.scrollY}}}f.observe(document.body,{childList:true});E();c("change");s.loadingStyle.endLoading()},g=(t,e,o)=>{c("preload");n=new XMLHttpRequest;n.open("get",t);n.timeout=9e4;n.send();n.onload=(()=>{let t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=n.responseText;e.preloadedPage=t;c("postload");o()})},b=t=>{if(s.reloadPagesOnPopstate){const t=document.createElement("a");g(p(location.href),t,()=>{m(t.preloadedPage)})}else{if(l[p(location.href)]==null){location.reload()}else{m(l[p(location.href)].document);scrollTo(l[p(location.href)].scrollPos.x,l[p(location.href)].scrollPos.y)}}},y=t=>{if(t.target.isPreloaded)return;g(p(t.target.href),t.target,()=>{t.target.isPreloaded=true})},w=t=>{t.preventDefault();if(t.target.isPreloaded){t.target.isPreloaded=false;m(t.target.preloadedPage,t.target.href)}else{g(p(t.target.href),t.target,()=>{t.target.isPreloaded=true;m(t.target.preloadedPage,t.target.href)})}},v=t=>{if(t.hasAttribute("instantload-blacklist"))return true;return false},L=t=>{const e=location.protocol+"//"+location.host+"/";if(t.taget||t.href.indexOf(e)!=0||v(t))return false;return true},k=()=>{for(let t=0;t<e.length;t++){e[t].addEventListener("mouseover",y);e[t].addEventListener("click",w)}window.addEventListener("popstate",b)},E=()=>{document.querySelectorAll("a").forEach(function(t){if(L(t)){e.push(t)}});k()},P=()=>{for(let t=0;t<e.length;t++){e[t].removeEventListener("mouseover",y);e[t].removeEventListener("click",w)}},x=()=>{P();e=[]},S=()=>{if(!"pushState"in history)return false;if(location.protocol=="file:")return false;return true},T=()=>{return t},C=()=>{return s},A=e=>{if(t){console.warn("InstantLoad is already initialized.");return}t=true;if(!S()){console.error("InstantLoad is not supported in this browser or protocol!");return}if(e!=null){for(option in e){s[option]=e[option]}}d();E();l[p(location.href)]={document:{head:document.head,body:document.body},scrollPos:{x:window.scrollX,y:window.scrollY}};f.observe(document.body,{childList:true});c("init")};return{init:A,on:u,config:C,configOptions:{loadingStyles:r},isRunning:T,history:l}}();