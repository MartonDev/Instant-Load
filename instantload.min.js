let instantload,InstantLoad=instantload=function(){let t=false,e=[],o=null,n=null;const a=[],i={preload:[],postload:[],change:[],init:[]},l={},r={bar:{startLoading:()=>{const t=document.createElement("div");t.classList.add("bar");t.id="instantload-bar";t.loadingIncrease=setInterval(()=>{t.style.width=`calc(${t.style.width} + 20vw)`},830);n.appendChild(t)},endLoading:()=>{const t=n.querySelectorAll(".bar")[0];t.loadingIncrease=null;t.style.width="100vw";setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},170)}},blink:{startLoading:()=>{const t=document.createElement("div");t.classList.add("blink");t.id="instantload-whiteScreen";n.appendChild(t);t.style.opacity="1"},endLoading:()=>{const t=n.querySelectorAll(".blink")[0];setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},300)}},circle:{startLoading:()=>{const t=document.createElement("div"),e=document.createElement("div");t.classList.add("circle");t.id="instantload-circle";e.classList.add("spinner");e.id="instantload-circle-spinner";t.appendChild(e);n.appendChild(t);t.style.opacity="1"},endLoading:()=>{const t=n.querySelectorAll(".circle")[0];setTimeout(()=>{t.style.opacity="0";setTimeout(()=>{t.remove()},300)},450)}},invisible:{startLoading:()=>{},endLoading:()=>{}}},s={reloadPagesOnPopstate:false,loadingStyle:r.bar},d=()=>{const t=document.createElement("style");n=document.createElement("div");t.innerText=".instantload-container {position: fixed; top: 0; left: 0; width: 100vw; z-index: 1000000; overflow: hidden;} .instantload-container .bar {height: 4px; width: 0vw; background-color: #4287f5; opacity: 1; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .blink {width: 100vw; height: 100vh; background-color: #fff; opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .circle {position: relative; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, .5); opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s;} .instantload-container .circle .spinner {position: absolute; top: 50%; left: 50%; width: 50px; height: 50px; border: 3px solid rgba(255, 255, 255, .3); border-radius: 50%; border-top-color: #fff; animation: spin .44s ease-in-out infinite; -webkit-animation: spin .44s ease-in-out infinite;} @keyframes spin {to{transform: rotate(360deg) translate(0, 0); -webkit-transform: rotate(360deg) translate(0, 0);}}@-webkit-keyframes spin {to{transform: rotate(360deg) translate(0, 0); -webkit-transform: rotate(360deg) translate(0, 0);}}}";n.classList.add("instantload-container");document.head.appendChild(t);document.body.appendChild(n)},c=(t,e)=>{for(let o=0;o<i[t].length;o++){i[t][o](e)}},u=(t,e)=>{i[t].push(e)},p=()=>{let t=[];document.head.querySelectorAll("script").forEach(e=>{if(!e.hasAttribute("instantload-blacklist"))t.push(e)});document.body.querySelectorAll("script").forEach(e=>{if(!e.hasAttribute("instantload-blacklist"))t.push(e)});for(let e=0;e<t.length;e++){if(t[e].instantload_tracked!=true)continue;let o=document.createElement("script"),n=t[e],a=n.parentNode,i=n.nextSiblings;o.textContent=n.textContent;o.instantload_tracked=true;for(let t=0;t<n.attributes.length;t++){o.setAttribute(n.attributes[t].name,n.attributes[t].value)}n.remove();a.insertBefore(o,i)}},m=t=>{return t.split("#").join("")},h=new MutationObserver(t=>{const e=[];for(let o=0;o<t.length;o++){t[o].addedNodes.forEach(t=>{if(t.tagName!=null&&t.tagName.toLowerCase()=="a"&&L(t))e.push(t)})}if(e.legth==0)return;x();E()}),f=(t,e)=>{l[m(location.href)].scrollPos={x:window.scrollX,y:window.scrollY};o.abort();x();h.disconnect();document.documentElement.replaceChild(t.body,document.body);document.documentElement.replaceChild(t.head,document.head);d();s.loadingStyle.startLoading();p();if(e!=null){history.pushState(null,null,e);scrollTo(0,0);l[m(location.href)]={document:{head:document.head,body:document.body},scrollPos:{x:window.scrollX,y:window.scrollY}}}h.observe(document.body,{childList:true});E();c("change",{eventType:"change",popstateEvent:e==null});s.loadingStyle.endLoading()},g=(t,e,n)=>{c("preload",{eventType:"preload"});o=new XMLHttpRequest;o.open("get",t);o.timeout=9e4;o.send();o.onload=(()=>{if(o.status!=200){c("postload",{eventType:"postload",success:false,message:`Status: ${o.status} ${o.statusText}`});return}let t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=o.responseText;e.preloadedPage=t;c("postload",{eventType:"postload",success:true,message:`Status: ${o.status} ${o.statusText}`});n()});o.ontimeout=(()=>{c("postload",{eventType:"postload",success:false,message:"Timeout"})})},b=t=>{if(s.reloadPagesOnPopstate){const t=document.createElement("a");g(m(location.href),t,()=>{f(t.preloadedPage)})}else{if(l[m(location.href)]==null){location.reload()}else{f(l[m(location.href)].document);scrollTo(l[m(location.href)].scrollPos.x,l[m(location.href)].scrollPos.y)}}},y=t=>{if(t.target.isPreloaded)return;g(m(t.target.href),t.target,()=>{t.target.isPreloaded=true})},v=t=>{t.preventDefault();if(t.target.isPreloaded){t.target.isPreloaded=false;f(t.target.preloadedPage,t.target.href)}else{g(m(t.target.href),t.target,()=>{t.target.isPreloaded=true;f(t.target.preloadedPage,t.target.href)})}},w=t=>{if(t.hasAttribute("instantload-blacklist"))return true;return false},L=t=>{const e=location.protocol+"//"+location.host+"/";if(t.taget||t.href.indexOf(e)!=0||w(t))return false;return true},k=()=>{for(let t=0;t<e.length;t++){e[t].addEventListener("mouseover",y);e[t].addEventListener("click",v)}window.addEventListener("popstate",b)},E=()=>{document.querySelectorAll("a").forEach(function(t){if(L(t)){e.push(t)}});k()},T=()=>{for(let t=0;t<e.length;t++){e[t].removeEventListener("mouseover",y);e[t].removeEventListener("click",v)}},x=()=>{T();e=[]},P=()=>{if(!"pushState"in history)return false;if(location.protocol=="file:")return false;return true},S=()=>{return t},C=()=>{return s},A=o=>{if(t){console.warn("InstantLoad is already initialized.");return}t=true;if(!P()){console.error("InstantLoad is not supported in this browser or protocol!");return}if(o!=null){for(option in o){s[option]=o[option]}}d();E();l[m(location.href)]={document:{head:document.head,body:document.body},scrollPos:{x:window.scrollX,y:window.scrollY}};h.observe(document.body,{childList:true});c("init",{eventType:"init",trackedElements:e})};return{init:A,on:u,config:C,configOptions:{loadingStyles:r},isRunning:S,history:l}}();